<div class="visiteur-home">
  <!-- HEADER -->
  <header class="header">
    <div class="container">
      <nav class="navbar">
        <div class="logo">
          <h1>elBaladiya.tn</h1>
        </div>
        <ul class="nav-links">
          <li><a routerLink="/" routerLinkActive="active">Accueil</a></li>
          <li><a routerLink="/demandes-terminees" routerLinkActive="active">Demandes terminées</a></li>
          <li><a routerLink="/faq" routerLinkActive="active">FAQ</a></li>
          <li><a routerLink="/about" routerLinkActive="active">À propos</a></li>
          <li><a routerLink="/login" routerLinkActive="active">Connexion</a></li>
        </ul>
      </nav>
    </div>
  </header>

  <!-- BANNIÈRE -->
  <section class="banner">
    <div class="container">
      <h1 class="banner-title">elBaladiya.tn</h1>
      <p class="banner-subtitle">La plateforme numérique municipale</p>
      <p class="banner-description">
        Connectez les citoyens et les municipalités pour une gestion transparente et efficace des services urbains
      </p>
    </div>
  </section>

  <!-- SECTION PRÉSENTATION -->
  <section class="presentation">
    <div class="container">
      <h2>Qu'est-ce que elBaladiya.tn ?</h2>
      <p>
        elBaladiya.tn est une plateforme innovante qui permet aux citoyens de soumettre des demandes d'intervention
        urbaine et de suivre leur traitement en temps réel. Les municipalités peuvent planifier et gérer efficacement
        les interventions grâce à un système intelligent de validation des ressources.
      </p>
      <div class="cta-buttons">
        <a routerLink="/demandes-terminees" class="btn btn-primary">
          Découvrir les services >
        </a>
        <a routerLink="/municipalite-inscription" class="btn btn-secondary">
          S'inscrire en tant que municipalité >
        </a>
      </div>
    </div>
  </section>

  <!-- STATISTIQUES -->
  <section class="stats" *ngIf="stats">
    <div class="container">
      <h2>Notre impact</h2>
      <div class="stats-grid">
        <div class="stat-card">
          <div class="stat-number">{{ stats.demandesTraitees }}</div>
          <div class="stat-label">Demandes traitées</div>
        </div>
        <div class="stat-card">
          <div class="stat-number">{{ stats.totalDemandes }}</div>
          <div class="stat-label">Total des demandes</div>
        </div>
      </div>
    </div>
  </section>

  <!-- SECTION DEMANDES TERMINÉES -->
  <section class="demandes-terminees">
    <div class="container">
      <h2>Demandes citoyennes terminées</h2>
      <div *ngIf="loading" class="loading">Chargement...</div>
      <div *ngIf="!loading && demandesTerminees.length === 0" class="no-data">
        Aucune demande terminée disponible pour le moment.
      </div>
      <div *ngIf="!loading && demandesTerminees.length > 0" class="demandes-grid">
        <div *ngFor="let demande of demandesTerminees" class="demande-card">
          <div *ngIf="demande.photos && demande.photos.length > 0" class="demande-photo">
            <img [src]="demande.photos[0].url" [alt]="demande.photos[0].nom" />
          </div>
          <div class="demande-content">
            <h3>{{ demande.category || 'Demande' }}</h3>
            <p class="demande-description">{{ demande.description | slice:0:100 }}...</p>
            <p class="demande-date">
              <i class="icon-calendar"></i>
              {{ demande.dateSoumission | date:'dd/MM/yyyy' }}
            </p>
            <a [routerLink]="['/demande', demande.id]" class="btn btn-link">
              Voir détails >
            </a>
          </div>
        </div>
      </div>
      <div *ngIf="!loading && demandesTerminees.length > 0" class="view-all">
        <a routerLink="/demandes-terminees" class="btn btn-primary">
          Voir toutes les demandes terminées >
        </a>
      </div>
    </div>
  </section>

  <!-- FOOTER -->
  <footer class="footer">
    <div class="container">
      <div class="footer-content">
        <div class="footer-section">
          <h3>elBaladiya.tn</h3>
          <p>Plateforme numérique municipale</p>
        </div>
        <div class="footer-section">
          <h4>Liens utiles</h4>
          <ul>
            <li><a routerLink="/faq">FAQ</a></li>
            <li><a routerLink="/about">À propos</a></li>
            <li><a routerLink="/demandes-terminees">Demandes terminées</a></li>
          </ul>
        </div>
        <div class="footer-section">
          <h4>Contact</h4>
          <p>Pour toute question, contactez-nous via le formulaire d'inscription municipalité.</p>
        </div>
      </div>
      <div class="footer-bottom">
        <p>&copy; 2024 elBaladiya.tn - Tous droits réservés</p>
      </div>
    </div>
  </footer>
</div>

