<div class="visiteur-home">
  <!-- HEADER -->
  <header class="header">
    <div class="container">
      <nav class="navbar">
        <div class="logo">
          <h1>{{ 'visiteur.platformTitle' | translate }}</h1>
        </div>
        <ul class="nav-links">
          <li><a routerLink="/" routerLinkActive="active">{{ 'visiteur.home' | translate }}</a></li>
          <li><a routerLink="/demandes-terminees" routerLinkActive="active">{{ 'visiteur.demandesTerminees' | translate }}</a></li>
          <li><a routerLink="/faq" routerLinkActive="active">{{ 'visiteur.faq' | translate }}</a></li>
          <li><a routerLink="/about" routerLinkActive="active">{{ 'visiteur.about' | translate }}</a></li>
          <li><a routerLink="/login" routerLinkActive="active">{{ 'visiteur.connection' | translate }}</a></li>
        </ul>
      </nav>
    </div>
  </header>

  <!-- BANNIÈRE -->
  <section class="banner">
    <div class="container">
      <h1 class="banner-title">{{ 'visiteur.platformTitle' | translate }}</h1>
      <p class="banner-subtitle">{{ 'visiteur.platformSubtitle' | translate }}</p>
      <p class="banner-description">
        {{ 'visiteur.platformDescription' | translate }}
      </p>
    </div>
  </section>

  <!-- SECTION PRÉSENTATION -->
  <section class="presentation">
    <div class="container">
      <h2>{{ 'visiteur.whatIs' | translate }}</h2>
      <p>
        {{ 'visiteur.whatIsDescription' | translate }}
      </p>
      <div class="cta-buttons">
        <a routerLink="/demandes-terminees" class="btn btn-primary">
          {{ 'visiteur.discoverServices' | translate }}
        </a>
        <a routerLink="/municipalite-inscription" class="btn btn-secondary">
          {{ 'visiteur.registerMunicipality' | translate }}
        </a>
      </div>
    </div>
  </section>

  <!-- STATISTIQUES -->
  <section class="stats" *ngIf="stats">
    <div class="container">
      <h2>{{ 'visiteur.impact' | translate }}</h2>
      <div class="stats-grid">
        <div class="stat-card">
          <div class="stat-number">{{ stats.demandesTraitees }}</div>
          <div class="stat-label">{{ 'visiteur.demandesTraitees' | translate }}</div>
        </div>
        <div class="stat-card">
          <div class="stat-number">{{ stats.totalDemandes }}</div>
          <div class="stat-label">{{ 'visiteur.totalDemandes' | translate }}</div>
        </div>
      </div>
    </div>
  </section>

  <!-- SECTION DEMANDES TERMINÉES -->
  <section class="demandes-terminees">
    <div class="container">
      <h2>{{ 'visiteur.citizenDemands' | translate }}</h2>
      <div *ngIf="loading" class="loading">{{ 'visiteur.loading' | translate }}</div>
      <div *ngIf="!loading && demandesTerminees.length === 0" class="no-data">
        {{ 'visiteur.noDemands' | translate }}
      </div>
      <div *ngIf="!loading && demandesTerminees.length > 0" class="demandes-grid">
        <div *ngFor="let demande of demandesTerminees" class="demande-card">
          <div *ngIf="demande.photos && demande.photos.length > 0" class="demande-photo">
            <img [src]="demande.photos[0].url" [alt]="demande.photos[0].nom" />
          </div>
          <div class="demande-content">
            <h3>{{ translationService.translateCategory(demande.category) || ('visiteur.request' | translate) }}</h3>
            <p class="demande-description">{{ demande.description | slice:0:100 }}...</p>
            <p class="demande-date">
              <i class="icon-calendar"></i>
              {{ demande.dateSoumission | date:'dd/MM/yyyy' }}
            </p>
            <a [routerLink]="['/demande', demande.id]" class="btn btn-link">
              {{ 'visiteur.viewDetails' | translate }}
            </a>
          </div>
        </div>
      </div>
      <div *ngIf="!loading && demandesTerminees.length > 0" class="view-all">
        <a routerLink="/demandes-terminees" class="btn btn-primary">
          {{ 'visiteur.viewAllDemands' | translate }}
        </a>
      </div>
    </div>
  </section>

  <!-- FOOTER -->
  <footer class="footer">
    <div class="container">
      <div class="footer-content">
        <div class="footer-section">
          <h3>{{ 'visiteur.platformTitle' | translate }}</h3>
          <p>{{ 'visiteur.platformSubtitle' | translate }}</p>
        </div>
        <div class="footer-section">
          <h4>{{ 'visiteur.usefulLinks' | translate }}</h4>
          <ul>
            <li><a routerLink="/faq">{{ 'visiteur.faq' | translate }}</a></li>
            <li><a routerLink="/about">{{ 'visiteur.about' | translate }}</a></li>
            <li><a routerLink="/demandes-terminees">{{ 'visiteur.demandesTerminees' | translate }}</a></li>
          </ul>
        </div>
        <div class="footer-section">
          <h4>{{ 'visiteur.contact' | translate }}</h4>
          <p>{{ 'visiteur.contactMessage' | translate }}</p>
        </div>
      </div>
      <div class="footer-bottom">
        <p>{{ 'visiteur.copyright' | translate }}</p>
      </div>
    </div>
  </footer>
</div>

